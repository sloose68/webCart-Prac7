import{d8 as g,d9 as m,da as E,db as c,dc as w,dd as f,de as h}from"./ScaleRangeLayer-CkcnxI7v.js";function F(l,n,a="nearest",e=!1){const o=!(e&&n.pixelType==="u8"),r=o?E.FLOAT:E.UNSIGNED_BYTE,d=n.pixels==null||n.pixels.length===0?null:o?n.getAsRGBAFloat():n.getAsRGBA(),p=l.capabilities.textureFloatLinear,t=new g;return t.width=n.width,t.height=n.height,t.internalFormat=o?m.RGBA32F:h.RGBA,t.samplingMode=!p||a!=="bilinear"&&a!=="cubic"?c.NEAREST:c.LINEAR,t.dataType=r,t.wrapMode=w.CLAMP_TO_EDGE,new f(l,t,d)}function G(l,n){const{spacing:a,offsets:e,coefficients:o,size:[r,d]}=n,p=a[0]>1,t=new g;t.width=p?4*r:r,t.height=d,t.internalFormat=m.RGBA32F,t.dataType=E.FLOAT,t.samplingMode=c.NEAREST,t.wrapMode=w.CLAMP_TO_EDGE;const A=new Float32Array(p?r*d*16:2*e.length);if(p&&o!=null)for(let i=0,s=0;i<o.length;i++)A[s++]=o[i],i%3==2&&(A[s++]=1);else for(let i=0;i<d;i++)for(let s=0;s<r;s++){const T=4*(i*r+s),u=2*(s*d+i);A[T]=e[u],A[T+1]=e[u+1],A[T+3]=e[u]===-1?0:1}return new f(l,t,A)}function _(l,n){const a=new g;return a.internalFormat=h.RGBA,a.width=n.length/4,a.height=1,a.samplingMode=c.NEAREST,a.wrapMode=w.CLAMP_TO_EDGE,new f(l,a,n)}function L(l,n,a){const e=new g;return e.internalFormat=h.ALPHA,e.pixelFormat=h.ALPHA,e.dataType=E.UNSIGNED_BYTE,e.width=a[0],e.height=a[1],e.samplingMode=c.NEAREST,e.wrapMode=w.CLAMP_TO_EDGE,new f(l,e,n)}export{L as c,_ as l,G as m,F as s};
